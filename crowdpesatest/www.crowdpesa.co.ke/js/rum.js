var NR_QUEUE=[];"undefined"!=typeof window.NREUMQ?NR_QUEUE=NREUMQ:"undefined"!=typeof window.EPISODES?NR_QUEUE=EPISODES.q:"undefined"!=typeof window.NREUM&&(NR_QUEUE=NREUM.q);var NREUM=NREUM||{};NREUM.q=NR_QUEUE,NREUM.targetOrigin=document.location.protocol+"//"+document.location.host,NREUM.version=7,NREUM.autorun="undefined"!=typeof NREUM.autorun?NREUM.autorun:!0,NREUM.init=function(){NREUM.bDone=!1,NREUM.cycle=0,NREUM.logging=!1,NREUM.contentLoadFired=!1,NREUM.marks={},NREUM.measures={},NREUM.starts={},NREUM.findStartTime(),NREUM.addEventListener("beforeunload",NREUM.beforeUnload,!1),NREUM.addEventListener("pagehide",NREUM.beforeUnload,!1),NREUM.processQ(),NREUM.beacon=null,NREUM.licenseKey=null,NREUM.applicationID=null,NREUM.transactionName=null,NREUM.txnParam=null,NREUM.unloaded=!1,"complete"===document.readyState?NREUM.domContentLoaded():"undefined"!=typeof document.addEventListener?document.addEventListener("DOMContentLoaded",NREUM.domContentLoaded,!1):"undefined"!=typeof document.attachEvent&&document.attachEvent("onreadystatechange",NREUM.readyStateChange),document.loaded?NREUM.onload():NREUM.addEventListener("load",NREUM.onload,!1)},NREUM.processQ=function(){var e,n,t,o=NREUM.q.length;for(t=0;o>t;t++)e=NREUM.q[t],n=e[0],"mark"===n?NREUM.mark(e[1],e[2]):"measure"===n?NREUM.measure(e[1],e[2],e[3]):"done"===n?NREUM.done(e[1]):"nrf"===n||"nrfinish"===n?NREUM.nrfinish("t",e[1],e[2],e[3],e[4],e[5],e[6],e[7]):"nrf2"===n||"nrfinish2"===n?NREUM.nrfinish("to",e[1],e[2],e[3],e[4],e[5],e[6],e[7]):NREUM.dprint("Unknown queue command "+n)},NREUM.nrfinish=function(e,n,t,o,r,i,a,d){NREUM.dprint("NREUM: finish data received"),NREUM.txnParam=e,NREUM.beacon=n,NREUM.licenseKey=t,NREUM.applicationID=o,NREUM.transactionName=r,NREUM.measures.qt=i,NREUM.measures.ap=a,NREUM.dom_end_time=d},NREUM.mark=function(e,n){return NREUM.dprint("NREUM.mark: "+e+", "+n),e?(NREUM.marks[e]=parseInt(n||(new Date).getTime(),10),void("firstbyte"===e?(NREUM.measure("be","starttime","firstbyte"),NREUM.dom_start_time=NREUM.marks.firstbyte):"onload"===e?NREUM.measure("fe","firstbyte","onload"):"domContent"===e&&NREUM.measure("dc","firstbyte","domContent"))):void NREUM.dprint("Error: markName is undefined in NREUM.mark.")},NREUM.measure=function(e,n,t){if(NREUM.dprint("NREUM.measure: "+e+", "+n+", "+t),!e)return void NREUM.dprint("Error: episodeName is undefined in NREUM.measure.");var o;if("undefined"==typeof n)o="number"==typeof NREUM.marks[e]?NREUM.marks[e]:(new Date).getTime();else if("number"==typeof NREUM.marks[n])o=NREUM.marks[n];else{if("number"!=typeof n)return void NREUM.dprint("Error: unexpected startNameOrTime in NREUM.measure: "+n);o=n}var r;if("undefined"==typeof t)r=(new Date).getTime();else if("number"==typeof NREUM.marks[t])r=NREUM.marks[t];else{if("number"!=typeof t)return void NREUM.dprint("NREUM: Error: unexpected endNameOrTime in NREUM.measure: "+t);r=t}NREUM.starts[e]=parseInt(o,10),NREUM.measures[e]=parseInt(r-o,10)},NREUM.done=function(e){NREUM.bDone=!0,NREUM.mark("done"),NREUM.autorun&&NREUM.sendBeacon(),"function"==typeof e&&e()},NREUM.getMarks=function(){return NREUM.marks},NREUM.getMeasures=function(){return NREUM.measures},NREUM.getStarts=function(){return NREUM.starts},NREUM.sendBeacon=function(){if(NREUM.processQ(),NREUM.domContentLoaded(),null===NREUM.licenseKey||null===NREUM.applicationID)return void NREUM.dprint("NREUM: licenseKey or applicationID has not been set");NREUM.dom_end_time&&NREUM.dom_start_time&&(NREUM.dprint("NREUM: picking up DOM processing time from embedded JS"),NREUM.mark("domContent",NREUM.dom_end_time));var e,n=NREUM.getMeasures(),t="";for(e in n)t+=e+"="+n[e]+"&";var o;if(t){o=("http:"===document.location.protocol?"http:":"https:")+"//"+NREUM.beacon+"/1/"+NREUM.licenseKey,o+="?a="+NREUM.applicationID+"&",o+=t,null!==NREUM.transactionName&&NREUM.transactionName.length>0&&(o+=NREUM.txnParam+"="+encodeURIComponent(NREUM.transactionName),o+="&v="+NREUM.version);var r=new Image;r.src=o,NREUM.dprint("NREUM: (new) data sent",o)}},NREUM.inlineHit=function(e,n,t,o,r,i){return NREUM.cycle+=1,null===NREUM.licenseKey||null===NREUM.applicationID?void NREUM.dprint("NREUM: licenseKey or applicationID has not been set"):(img=new Image,url=("http:"===document.location.protocol?"http:":"https:")+"//"+NREUM.beacon+"/1/"+NREUM.licenseKey,url+="?a="+NREUM.applicationID+"&",url+="t="+e+"&",url+="qt="+n+"&",url+="ap="+t+"&",url+="be="+o+"&",url+="dc="+r+"&",url+="fe="+i+"&",url+="c="+NREUM.cycle,img.src=url,void NREUM.dprint("NREUM Inline: "+url))},NREUM.findStartTime=function(){var e=NREUM.findStartWebTiming()||NREUM.findStartGToolbar()||NREUM.findStartCookie();e?NREUM.mark("starttime",e):NREUM.dprint("NREUM: Error: couldn't find a start time")},NREUM.findStartWebTiming=function(){var e,n=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;return"undefined"!=typeof n&&"undefined"!=typeof n.timing&&"undefined"!=typeof n.timing.navigationStart&&(e=n.timing.navigationStart,NREUM.dprint("NREUM.findStartWebTiming: startTime = "+e)),e},NREUM.findStartGToolbar=function(){var e;return"undefined"!=typeof window.external&&"undefined"!=typeof window.external.pageT?e=(new Date).getTime()-window.external.pageT:"undefined"!=typeof window.gtbExternal&&"undefined"!=typeof window.gtbExternal.pageT?e=(new Date).getTime()-window.gtbExternal.pageT():"undefined"!=typeof window.chrome&&"undefined"!=typeof window.chrome.csi&&(e=(new Date).getTime()-window.chrome.csi().pageT),e&&NREUM.dprint("NREUM.findStartGToolbar: startTime = "+e),e},NREUM.findStartCookie=function(){var e,n,t=document.cookie.split(" ");for(e=0;e<t.length;e++)if(0===t[e].indexOf("NREUM=")){var o,r,i,a,d=t[e].substring("NREUM=".length).split("&");for(n=0;n<d.length;n++)0===d[n].indexOf("s=")?i=d[n].substring(2):0===d[n].indexOf("p=")?(r=d[n].substring(2),";"===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1))):0===d[n].indexOf("r=")&&(o=d[n].substring(2),";"===o.charAt(o.length-1)&&(o=o.substr(0,o.length-1)));if(o){var E=encodeURIComponent(document.referrer);a=E===o,a||(a=encodeURIComponent(document.location)===o&&E===r)}if(a&&i)return NREUM.dprint("NREUM.findStartCookie: startTime = "+i),i}return void 0},NREUM.beforeUnload=function(){if(!NREUM.unloaded){var e=new Date;e.setTime(e.getTime()+6e4),document.cookie="NREUM=s="+Number(new Date)+"&r="+encodeURIComponent(document.location)+"&p="+encodeURIComponent(document.referrer)+"; expires="+e.toGMTString()+"; path=/",NREUM.unloaded=!0}},NREUM.onload=function(){NREUM.mark("onload"),NREUM.autorun&&NREUM.done()},NREUM.domContentLoaded=function(){NREUM.contentLoadFired||(NREUM.mark("domContent",(new Date).getTime()),NREUM.contentLoadFired=!0)},NREUM.readyStateChange=function(){"complete"===document.readyState&&NREUM.domContentLoaded()},NREUM.drawEpisodes=function(e,n){if(e){"undefined"==typeof n&&(n=1);var t,o,r=NREUM.getStarts(),i=NREUM.getMeasures(),a=NREUM.getMarks(),d=[];for(t in i)i.hasOwnProperty(t)&&(o=r[t],d.push([o,o+i[t],t]));for(t in a)a.hasOwnProperty(t)&&"undefined"==typeof i[t]&&(o=a[t],d.push([o,o,t]));d.sort(NREUM.sortEpisodes);var E,U=d[0][0],N=d[0][1],R=d.length;for(E=1;R>E;E++)d[E][1]>N&&(N=d[E][1]);var M=e.clientWidth||e.offsetWidth,s=M/(N-U),u="";for(E=0;E<d.length;E++){o=d[E][0];var f=d[E][1],m=f-o;t=d[E][2];var c=parseInt(s*(o-U),10)+40,p=parseInt(s*m,10);u+='<div style="font-size: 10pt; position: absolute; left: '+c+"px; top: "+30*E+"px; width: "+p+'px; height: 16px;"><div style="background: #EEE; border: 1px solid; padding-bottom: 2px;"><nobr style="padding-left: 4px;">'+t+(m>0?" - "+m+"ms":"")+"</nobr></div></div>\n"}e.innerHTML=u}},NREUM.sortEpisodes=function(e,n){return e[0]===n[0]?e[1]===n[1]?0:e[1]>n[1]?-1:1:e[0]<n[0]?-1:1},NREUM.addEventListener=function(e,n,t){return"undefined"!=typeof window.attachEvent?window.attachEvent("on"+e,n):window.addEventListener?window.addEventListener(e,n,t):void 0},NREUM.dprint="undefined"!=typeof console&&"undefined"!=typeof console.log?function(e){NREUM.logging&&console.log(e)}:function(){},NREUM.init();